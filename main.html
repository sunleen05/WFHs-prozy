<!DOCTYPE html>
<html lang="en">
    <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>WFHS Game Hub</title>
    <meta name="description" content="Over 600 games, modern cyber style for school & home.">
    <meta property="og:title" content="WFHS Game Hub">
    <meta property="og:description" content="Play 600+ unblocked games in a modern, cyber-themed interface.">
    <link href="https://fonts.googleapis.com/css?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <!-- Matrix background effect -->
    <style>
      body {
        position: relative;
        min-height: 100vh;
        background: #01071a;
        color: var(--text);
        font-family: 'Share Tech Mono', 'Consolas', monospace;
      }
      #matrix-canvas {
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        z-index: 0;
        pointer-events: none;
        opacity: 0.22;
        filter: blur(1px) contrast(1.2);
      }
      .matrix-overlay {
        background: linear-gradient(135deg, rgba(26,255,128,0.05) 0%, rgba(0,0,16,0.48) 100%);
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        z-index: 2;
        pointer-events: none;
      }
      .main-content, .zone-container, .footer-links, header, .popup {
        position: relative;
        z-index: 10;
      }
    </style>
    <!-- END Matrix effect setup -->
    </head>
    <body class="dark-mode">
        <canvas id="matrix-canvas"></canvas>
        <div class="matrix-overlay"></div>
        <header>
            <div class="header-content">
                <div class="logo">WFHS</div>
                <div class="search-container">
                    <input type="text" id="searchBar" placeholder="Search zones..." oninput="filterZones()">
                    <select id="sortOptions" onchange="sortZones()">
                        <option value="name">Name</option>
                        <option value="id">ID (Date)</option>
                        <option value="popular">Popular</option>
                    </select>
                </div>
                <div class="control-buttons">
                    <button id="settings">Settings</button>
                </div>
            </div>
        </header>
        <main>
            <details id="featuredZonesWrapper" open>
                <summary id="allZonesSummary">Featured Zones</summary>
                <div id="featuredZones" class="zone-container"></div>
            </details>
            <br><hr><br>
            <details id="allZonesWrapper" open>
                <summary id="allSummary">All Zones</summary>
                <div id="container">Loading...</div>
            </details>
        </main>
        <div id="zoneViewer">
            <div class="zone-header">
                <div class="zone-title">
                    <h2 id="zoneName">zone</h2>
                    <span id="zoneId"></span>
                    <a id="zoneAuthor" href="#" target="_blank">by Author</a>
                </div>
                <div class="zone-controls">
                    <button onclick="fullscreenZone()">Fullscreen</button>
                    <button onclick="aboutBlank()">Open in New Tab</button>
                    <button onclick="downloadZone()">Download</button>
                    <button onclick="closeZone()">Close</button>
                </div>
            </div>
            <iframe id="zoneFrame"></iframe>
        </div>
        <div id="popupOverlay">
            <div class="popup">
                <div class="popup-header">
                    <h3 id="popupTitle">Title</h3>
                    <button id="popupClose" onclick="closePopup()">×</button>
                </div>
                <div id="popupBody">Content will be here</div>
            </div>
        </div>
        <footer>
            <div class="footer-links">
                <a href="#" onclick="loadDMCA(); return false;">DMCA</a>
                <a href="#" onclick="showContact(); return false;">Contact</a>
                <a href="#" onclick="loadPrivacy(); return false;">Privacy Policy</a>
                <a href="javascript:saveData()">Export Data</a>
                <a href="#" onclick="document.getElementById('importData').click(); return false;">Import Data</a>
                <input type="file" id="importData" style="display: none;" onchange="loadData(event)">
            </div>
        </footer>
        <script src="script.js"></script>
        <script>
          // Matrix wallpaper effect
          const canvas = document.getElementById('matrix-canvas');
          const ctx = canvas.getContext('2d');
          function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
          }
          resizeCanvas();
          window.addEventListener('resize', resizeCanvas);

          const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズヅブプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポヴッン@#$%&*";
          const fontSize = 17;
          const columns = Math.floor(window.innerWidth / fontSize);
          const drops = [];
          for (let x = 0; x < columns; x++) drops[x] = Math.random() * window.innerHeight / fontSize;
          function drawMatrix() {
            ctx.fillStyle = "rgba(8,19,28,0.17)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.font = fontSize + "px 'Share Tech Mono', monospace";
            ctx.fillStyle = "#41ffb0";
            for (let i = 0; i < drops.length; i++) {
              const text = letters[Math.floor(Math.random() * letters.length)];
              ctx.fillText(text, i * fontSize, drops[i] * fontSize);
              if (Math.random() > 0.97) drops[i] = 0;
              drops[i]++;
              if (drops[i]*fontSize > canvas.height) drops[i] = 0;
            }
          }
          setInterval(drawMatrix, 45);
        </script>
    </body>
</html>
